{
  "name": "@gearedminds/permit",
  "version": "3.0.0",
  "description": "This API informs caller (usually an application) what is the complete profile (permissions and preferences) of a user",
  "main": "index.js",
  "scripts": {
    "start": "node dist/src/index.js",
    "start:dev": "APP_CONF_PATH='./dist/conf' APP_ENV='local' nodemon --watch '**/*.ts' --ignore 'node_modules/**/*' --exec ts-node src/index.ts",
    "build": "npm run clean:dist && npm run copy-conf && npm run version-file && tsc && npm run copy-sql",
    "build:prod": "npm run build && npm run swagger:all && npm run clean:modules && npm i --production",
    "debug": "APP_CONF_PATH='./dist/conf' APP_ENV='local' node --inspect dist/src/index.js",
    "clean:dist": "rm -rf dist/",
    "clean:modules": "rm -rf node_modules/",
    "copy-conf": "mkdirp ./dist/conf && ncp ./src/conf ./dist/conf",
    "copy-sql": "cp ./src/migrations/*.sql ./dist/src/migrations",
    "swagger:all": "npm run swagger:gen && npm run swagger:fix:desc && npm run swagger:fix:version && npm run swagger:enrich",
    "swagger:gen": "tsed-api-support swagger-file && cp dist/src/swagger.json dist/src/swagger.tsed.json",
    "swagger:fix:desc": "replace '\"description\": \"\",' '\"description\": \"Permit, permissions and preferences made simple\",' dist/src/swagger.json && cp dist/src/swagger.json dist/src/swagger.fixed.json",
    "swagger:fix:version": "replace '1.0.0' $npm_package_version dist/src/swagger.json && cp dist/src/swagger.json dist/src/swagger.fixed.json",
    "swagger:enrich": "swagger-enricher ./dist/src/swagger.json --output=./dist/src/swagger.json && cp dist/src/swagger.json dist/src/swagger.enriched.json",
    "test": "echo \"Error: no test specified\" && exit 1",
    "test:functional": "APP_CONF_PATH='./dist/conf' APP_ENV='test' cucumber-js test/functional/features --require-module ts-node/register --require 'test/functional/steps/**/*.ts'",
    "test:functional:report": "APP_CONF_PATH='./dist/conf' cucumber-js test/functional/features --require-module ts-node/register --require 'test/functional/steps/**/*.ts' --format json:/tmp/test-report/functional_tests_report.json",
    "docker:build": "docker build -t gearedminds/permit:$npm_package_version -t gearedminds/permit:latest .",
    "docker:build:tester": "docker build -t permit-test:$npm_package_version -t permit-test:latest -f test/functional/tester/tester-dockerfile .",
    "docker:build:mock": "docker build -t gearedminds/permit-mock:$npm_package_version -t gearedminds/permit-mock:latest -f test/mock/dockerfile .",
    "docker:remove": "docker rm $npm_package_config_dockerApiImageName:$npm_package_version",
    "echo-version": "echo $npm_package_version",
    "echo-config": "node -p \"require('./package.json').config[process.argv[1]]\"",
    "version-file": "tsed-api-support version-file ./package.json > version.json"
  },
  "author": "Jerome Pramondon",
  "license": "WTFPL",
  "dependencies": {
    "@gearedminds/ext-conf": "3.0.0",
    "@gearedminds/ts-commons": "2.0.0",
    "@gearedminds/tsed-api-support": "2.0.0",
    "@tsed/common": "5.41.1",
    "@tsed/core": "5.41.1",
    "@tsed/di": "5.41.1",
    "@tsed/logger": "5.4.1",
    "@tsed/swagger": "5.41.1",
    "@tsed/testing": "5.41.1",
    "body-parser": "1.19.0",
    "commander": "5.1.0",
    "compression": "1.7.4",
    "cors": "2.8.5",
    "express": "4.17.1",
    "express-correlation-id": "1.3.0",
    "joi": "14.3.1",
    "lodash": "4.17.15",
    "method-override": "3.0.0",
    "pg": "7.12.1",
    "request-promise-native": "1.0.8",
    "sequelize": "5.21.1",
    "source-map-support": "0.5.16",
    "ts-httpexceptions": "4.1.0",
    "typescript": "3.7.5",
    "umzug": "2.2.0",
    "xlsx": "0.15.6"
  },
  "devDependencies": {
    "@types/body-parser": "1.17.0",
    "@types/chai-as-promised": "7.1.2",
    "@types/chai-http": "3.0.5",
    "@types/chai-things": "0.0.34",
    "@types/compression": "0.0.36",
    "@types/cucumber": "6.0.1",
    "@types/express": "4.17.2",
    "@types/joi": "14.3.3",
    "@types/method-override": "0.0.31",
    "@types/node": "12.0.0",
    "@types/request-promise-native": "1.0.17",
    "@types/swagger-schema-official": "2.0.20",
    "@types/umzug": "2.2.2",
    "mkdirp": "0.5.1",
    "moment": "2.24.0",
    "nodemon": "1.19.0",
    "cpx": "1.5.0",
    "chai": "4.1.2",
    "chai-as-promised": "7.1.1",
    "chai-http": "4.2.0",
    "chai-shallow-deep-equal": "1.4.6",
    "chai-things": "0.2.0",
    "cucumber": "6.0.5",
    "cucumber-tsflow": "3.2.0",
    "cucumber-html-reporter": "5.2.0",
    "ncp": "2.0.0",
    "replace": "1.1.0",
    "rimraf": "2.6.3",
    "ts-node": "8.1.0"
  },
  "repository": {
    "type": "git",
    "url": "https://gitlab.com/mobivia/driverservices/xcommerce/sales-execution/permit.git"
  }
}
